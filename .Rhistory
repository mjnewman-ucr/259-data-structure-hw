install.packages("rvest")
#Load packages
library(tidyverse)
library(lubridate)
library(rvest)
# Scrape the data for the new rolling stone top 500 list
url <- "https://stuarte.co/2021/2021-full-list-rolling-stones-top-500-songs-of-all-time-updated/"
rs_new <- url %>% read_html() %>% html_nodes(xpath='//*[@id="post-14376"]/div[2]/div[2]/table') %>% html_table() %>% pluck(1)
# Scrape the data for the old rolling stone top 500 list
url_old <- "https://www.cs.ubc.ca/~davet/music/list/Best9.html"
rs_old <- url_old %>% read_html() %>% html_nodes(xpath='/html/body/table[2]') %>% html_table() %>% pluck(1) %>%
select(1, 4, 3, 7) %>% rename(Rank = X1, Artist = X3, Song = X4, Year = X7) %>% filter(Year != "YEAR")
View(rs_new)
#ANSWER
full_join(rs_new, rs_old, by = Artist, Song)
#ANSWER
full_join(rs_new, rs_old, by = c("Artist", "Song"))
nrow()
#ANSWER
rs_joined_orig <- full_join(rs_new, rs_old, by = c("Artist", "Song"))
nrow(rs_joined_orig)
View(rs_joined_orig)
View(rs_old)
#ANSWER
rs_new %>% mutate(Source = New)
#ANSWER
rs_new %>% mutate(Source = "New")
rs_old %>% as.numeric(c("Year", "Rank") mutate(Source = "Old")
rs_old %>% as.numeric("Year") mutate(Source = "Old")
rs_old %>% as.numeric(c("Year", "Rank")) %>% mutate(Source = "Old")
rs_old %>% as.numeric(c("Year", "Rank")) %>% mutate(Source = "Old", na.rm = TRUE)
rs_old %>% as.numeric(c("Year", "Rank")) #%>% mutate(Source = "Old", na.rm = TRUE)
rs_old %>% as.numeric("Year") #%>% mutate(Source = "Old", na.rm = TRUE)
rs_old %>% as.integer("Year") #%>% mutate(Source = "Old", na.rm = TRUE)
rs_old %>% as.integer("Year", na.rm = TRUE) #%>% mutate(Source = "Old", na.rm = TRUE)
rs_old %>% as.double("Year", na.rm = TRUE) #%>% mutate(Source = "Old", na.rm = TRUE)
rs_old %>% as.double(Year, na.rm = TRUE) #%>% mutate(Source = "Old", na.rm = TRUE)
rs_old %>% as.numeric(Year, na.rm = TRUE) #%>% mutate(Source = "Old", na.rm = TRUE)
rs_old %>% as.numeric("Year", na.rm = TRUE) #%>% mutate(Source = "Old", na.rm = TRUE)
rs_old %>% as.numeric(rs_old$Year, na.rm = TRUE) #%>% mutate(Source = "Old", na.rm = TRUE)
as.numeric(rs_old$Year, na.rm = TRUE) #%>% mutate(Source = "Old", na.rm = TRUE)
rs_old <- as.numeric(rs_old$Year)
rs_old <- as.numeric(rs_old$Rank)
# Scrape the data for the new rolling stone top 500 list
url <- "https://stuarte.co/2021/2021-full-list-rolling-stones-top-500-songs-of-all-time-updated/"
rs_new <- url %>% read_html() %>% html_nodes(xpath='//*[@id="post-14376"]/div[2]/div[2]/table') %>% html_table() %>% pluck(1)
# Scrape the data for the old rolling stone top 500 list
url_old <- "https://www.cs.ubc.ca/~davet/music/list/Best9.html"
rs_old <- url_old %>% read_html() %>% html_nodes(xpath='/html/body/table[2]') %>% html_table() %>% pluck(1) %>%
select(1, 4, 3, 7) %>% rename(Rank = X1, Artist = X3, Song = X4, Year = X7) %>% filter(Year != "YEAR")
#ANSWER
rs_joined_orig <- full_join(rs_new, rs_old, by = c("Artist", "Song"))
nrow(rs_joined_orig)
rs_old$Year <- as.numeric(rs_old$Year)
rs_old$Rank <- as.numeric(rs_old$Rank)
rs_old %>% mutate(Source = "Old", na.rm = TRUE)
rs_old %>% mutate(Source = "Old")
bind_rows(rs_old, rs_new)
#ANSWER
rs_new <- rs_new %>% mutate(Source = "New")
rs_old <- rs_old %>% mutate(Source = "Old")
bind_rows(rs_old, rs_new)
rs_all <- bind_rows(rs_old, rs_new)
View(rs_all)
#ANSWER
rs_all %>% str_remove_all(Artist, "[The]")
#ANSWER
rs_all %>% str_remove_all(Artist, "The")
#ANSWER
rs_all %>% str_remove_all(Artist, The)
#ANSWER
rs_all %>% str_remove_all(rs_all$Artist, "The")
#ANSWER
rs_all %>% str_remove_all(Artist, "The", "")
#ANSWER
str_remove_all(rs_all$Artist, "The")
